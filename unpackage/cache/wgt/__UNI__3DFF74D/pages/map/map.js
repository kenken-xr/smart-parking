!function(e){var t={};function a(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,a),o.l=!0,o.exports}a.m=e,a.c=t,a.d=function(e,t,i){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)a.d(i,o,function(t){return e[t]}.bind(null,o));return i},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=19)}([function(e,t){e.exports={"@VERSION":2}},function(e,t,a){"use strict";function i(e,t,a,i,o,n,r,s,c,p){var u,l="function"==typeof e?e.options:e;if(c){l.components||(l.components={});var d=Object.prototype.hasOwnProperty;for(var f in c)d.call(c,f)&&!d.call(l.components,f)&&(l.components[f]=c[f])}if(p&&((p.beforeCreate||(p.beforeCreate=[])).unshift((function(){this[p.__module]=this})),(l.mixins||(l.mixins=[])).push(p)),t&&(l.render=t,l.staticRenderFns=a,l._compiled=!0),i&&(l.functional=!0),n&&(l._scopeId="data-v-"+n),r?(u=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(r)},l._ssrRegister=u):o&&(u=s?function(){o.call(this,this.$root.$options.shadowRoot)}:o),u)if(l.functional){l._injectStyles=u;var g=l.render;l.render=function(e,t){return u.call(t),g(e,t)}}else{var m=l.beforeCreate;l.beforeCreate=m?[].concat(m,u):[u]}return{exports:e,options:l}}a.d(t,"a",(function(){return i}))},,function(e,t,a){"use strict";var i=a(11),o=a(7),n=a(1);var r=Object(n.a)(o.default,i.b,i.c,!1,null,"111bd18a","6100b1aa",!1,i.a,void 0);(function(e){this.options.style||(this.options.style={}),Vue.prototype.__merge_style&&Vue.prototype.__$appStyle__&&Vue.prototype.__merge_style(Vue.prototype.__$appStyle__,this.options.style),Vue.prototype.__merge_style?Vue.prototype.__merge_style(a(17).default,this.options.style):Object.assign(this.options.style,a(17).default)}).call(r),t.default=r.exports},,,,function(e,t,a){"use strict";var i=a(8),o=a.n(i);t.default=o.a},function(e,t,a){"use strict";(function(e){function i(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,i=new Array(t);a<t;a++)i[a]=e[a];return i}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(15),r={data:function(){return{allScreen:"",weather:"",temperature:"",myPolyline:[],animationData:{},scale:16,longitude:"",latitude:"",markers:[],includePoints:[],address1:{},address2:{},textscan:"\u626b\u7801",typescan:"scan-listener",value:""}},onUnload:function(){this.animationData={}},onLoad:function(){this._initMap();var t=this,a=new n.AMapWX({key:"e7c8fd7de0f269406e5bddc587e47623"}),i=new n.AMapWX({key:"986e3e528e41c7db57356cc78a3727a9"});t.getMyLocation(),a.getPoiAround({success:function(e){},fail:function(t){e("log",t," at pages/map/map.nvue:176")}}),uni.getSystemInfo({success:function(a){t.allScreen=a.screenHeight,e("log",t.allScreen," at pages/map/map.nvue:185")},fail:function(t){e("log",t," at pages/map/map.nvue:188")}}),i.getWeather({success:function(a){t.weather=a.weather.data,t.temperature=a.temperature.data,e("log",a.weather.data," at pages/map/map.nvue:195")},fail:function(t){e("log",t," at pages/map/map.nvue:199")}}),e("log",11111," at pages/map/map.nvue:203"),uni.navigateTo({url:"/pages/popup/popup"})},onReady:function(e){var t=this;uni.$on(this.typescan,(function(e){t.value=e.result})),this.mapContext=uni.createMapContext("my-map",this),this.animation=uni.createAnimation({timingFunction:"ease-in-out"}),setInterval((function(){t.animation.scale(1.07+.01*Math.random()).step({duration:1e3}),t.animation.scale(1).step({duration:1e3}),t.animationData=t.animation.export()}),2500)},watch:{lat:function(){this.getPoiInfoAround()}},methods:{onScan:function(){uni.navigateTo({url:"/pages/plusScan/index?text="+this.textscan+"&type="+this.typescan}),e("log",value," at pages/map/map.nvue:260")},_initMap:function(){var t=this;uni.getLocation({type:"gcj02",geocode:!0,success:function(a){e("log",JSON.stringify(a)," at pages/map/map.nvue:270"),t.latitude=a.latitude,t.longitude=a.longitude;var o={id:1,latitude:t.latitude,longitude:t.longitude,title:a.address.poiName};t.markers[0]=o,t.address1=o,t.markers=i(t.markers),t.includePoints[0]=o,e("log","success"," at pages/map/map.nvue:294")},fail:function(t){e("log",t," at pages/map/map.nvue:297")}})},handleQue:function(){e("log","\u786e\u8ba4"," at pages/map/map.nvue:304")},getAuthorizeInfo:function(){uni.authorize({scope:"scope.userLocation",success:function(){self.getLocationInfo()},fail:function(){self.openConfirm(),e("log","\u4f60\u62d2\u7edd\u4e86\u6388\u6743\uff0c\u65e0\u6cd5\u83b7\u5f97\u5468\u8fb9\u4fe1\u606f"," at pages/map/map.nvue:315")}})},getMyLocation:function(){var t=this;uni.getLocation({type:"gcj02",success:function(a){t.Latitude=a.latitude,t.Longitude=a.longitude,e("log","\u5f53\u524d\u6240\u5728\u4f4d\u7f6e\u7684Latitude\u4e3a"+t.Latitude," at pages/map/map.nvue:327"),e("log","\u5f53\u524d\u6240\u5728\u4f4d\u7f6e\u7684Longitude\u4e3a"+t.Longitude," at pages/map/map.nvue:328")},fail:function(t){e("log",t," at pages/map/map.nvue:331")}})},openConfirm:function(){uni.showModal({title:"\u8bf7\u6c42\u6388\u6743\u5f53\u524d\u4f4d\u7f6e",content:"\u9700\u8981\u83b7\u53d6\u60a8\u7684\u5730\u7406\u4f4d\u7f6e\uff0c\u8bf7\u786e\u8ba4\u6388\u6743",success:function(e){e.confirm?uni.openSetting():e.cancel&&uni.showToast({title:"\u4f60\u62d2\u7edd\u4e86\u6388\u6743\uff0c\u65e0\u6cd5\u83b7\u5f97\u5468\u8fb9\u4fe1\u606f",icon:"none",duration:1e3})}})},assembleClick:function(){uni.chooseLocation({success:function(t){e("log","\u4f4d\u7f6e\u540d\u79f0\uff1a"+t.name," at pages/map/map.nvue:358"),e("log","\u8be6\u7ec6\u5730\u5740\uff1a"+t.address," at pages/map/map.nvue:359"),e("log","\u7eac\u5ea6\uff1a"+t.latitude," at pages/map/map.nvue:360"),e("log","\u7ecf\u5ea6\uff1a"+t.longitude," at pages/map/map.nvue:361")}})},clicktoindoor:function(){uni.navigateTo({url:"../jumpto/jumpto",animationType:"fade-in",animationDuration:1e3,sucess:function(e){},fail:function(t){e("log",t," at pages/map/map.nvue:399")}})},viewMapLocation:function(t,a,i){uni.getLocation({type:"gcj02",success:function(o){e("log",o,"\u7ecf\u7eac\u5ea6"," at pages/map/map.nvue:434"),"getLocation:ok"==o.errMsg&&(e("log",a," at pages/map/map.nvue:451"),e("log",t," at pages/map/map.nvue:452"),uni.openLocation({latitude:a,longitude:t,address:i,scale:18,success:function(){e("log","success"," at pages/map/map.nvue:463")}}))},fail:function(t){e("log",t," at pages/map/map.nvue:470"),"getLocation:fail auth deny"==t.errMsg&&uni.showModal({content:"\u68c0\u6d4b\u5230\u60a8\u6ca1\u6253\u5f00\u83b7\u53d6\u4fe1\u606f\u529f\u80fd\u6743\u9650\uff0c\u662f\u5426\u53bb\u8bbe\u7f6e\u6253\u5f00\uff1f",confirmText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",success:function(t){if(!t.confirm)return e("log","\u53d6\u6d88"," at pages/map/map.nvue:484"),!1;uni.openSetting({success:function(t){e("log","\u786e\u5b9a"," at pages/map/map.nvue:480")}})}})}})},chooseAddress:function(e){var t=this;uni.chooseLocation({success:function(a){var o={id:e,latitude:a.latitude,longitude:a.longitude,iconPath:"../../static/edit-maker.png",title:a.name};1==e?(t.markers[0]=o,t.markers=i(t.markers),t.address1=o,t.includePoints[0]=o,t.includePoints=i(t.includePoints)):(t.markers[1]=o,t.markers=i(t.markers),t.address2=o,t.includePoints[1]=o,t.includePoints=i(t.includePoints)),t.viewMapLocation(t.address2.longitude,t.address2.latitude,t.address2.title)}})}},computed:{weatherImg:function(){switch(this.weather){case"\u6674":return"../../static/imgs/weather/1.png";case"\u591a\u4e91":return"../../static/imgs/weather/2.png";case"\u9634":return"../../static/imgs/weather/3.png";case"\u96f7\u9635\u96e8\u5e76\u4f34\u6709\u51b0\u96f9":return"../../static/imgs/weather/4.png";case"\u96f7\u9635\u96e8":return"../../static/imgs/weather/5.png";case"\u5927\u96e8":return"../../static/imgs/weather/6.png";case"\u66b4\u96e8":return"../../static/imgs/weather/7.png";case"\u973e":return"../../static/imgs/weather/8.png";case"\u5c0f\u96ea":return"../../static/imgs/weather/9.png";case"\u5c0f\u96e8":return"../../static/imgs/weather/10.png";case"\u4e2d\u96ea":return"../../static/imgs/weather/11.png";case"\u4e2d\u96e8":return"../../static/imgs/weather/12.png";case"\u5927\u96ea":return"../../static/imgs/weather/13.png";case"\u96fe":return"../../static/imgs/weather/14.png";default:return"../../static/imgs/weather/15.png"}}}};t.default=r}).call(this,a(14).default)},function(e,t){e.exports={".control-btn":{"":{position:["fixed",0,0,3]}},".help_image":{"":{position:["fixed",0,0,4]}},".weather":{"":{position:["fixed",0,0,5],top:["50",0,0,5],right:["10",0,0,5],backgroundColor:["#ffffff",0,0,5],flexDirection:["row",0,0,5],alignItems:["center",0,0,5]}},".weather-img":{"":{width:["25",0,0,6],height:["25",0,0,6]}},".wearth-txt":{"":{color:["#999999",0,0,7],fontSize:["13",0,0,7]}},".all":{"":{display:["flex",0,0,8],flexDirection:["row",0,0,8],alignItems:["center",0,0,8],width:["750rpx",0,0,8],height:["100",0,0,8],marginTop:["530",0,0,8],backgroundColor:["#ffffff",0,0,8]}},".choose":{"":{width:["350rpx",0,0,9],height:["150rpx",0,0,9],display:["flex",0,0,9],marginTop:["10rpx",0,0,9],marginLeft:["5",0,0,9],lineHeight:["50rpx",0,0,9],borderRadius:["15",0,0,9],backgroundImage:["linear-gradient(to right,#abdcff,#0396FF)",0,0,9],fontSize:["28rpx",0,0,9],flexDirection:["row",0,0,9]}},".wenzi":{"":{width:["200rpx",0,0,10],marginLeft:["15",0,0,10]}},".primary":{"":{marginTop:["10rpx",0,0,11],fontSize:["40rpx",0,0,11],fontWeight:["300",0,0,11],flexDirection:["row",0,0,11],fontFamily:['"\u5b8b\u4f53"',0,0,11]}},".first":{"":{fontSize:["60rpx",0,0,12],color:["#ffffff",0,0,12]}},".second":{"":{marginTop:["20rpx",0,0,13],color:["#ffffff",0,0,13]}},".english":{"":{marginTop:["8rpx",0,0,14],fontSize:["20rpx",0,0,14],fontWeight:["100",0,0,14],fontFamily:['"Times New Roman"',0,0,14],flexDirection:["row",0,0,14]}},".first_english":{"":{fontSize:["50rpx",0,0,15],color:["#ffffff",0,0,15],fontWeight:["300",0,0,15]}},".second_english":{"":{marginTop:["9rpx",0,0,16],color:["#ffffff",0,0,16]}},".icon":{"":{width:["70rpx",0,0,17],height:["70rpx",0,0,17],marginLeft:["14",0,0,17],marginTop:["35rpx",0,0,17]}},".item":{"":{fontSize:["8",0,0,21],paddingTop:["10rpx",0,0,21],paddingRight:["10rpx",0,0,21],paddingBottom:["10rpx",0,0,21],paddingLeft:["10rpx",0,0,21],height:["22",0,0,21],fontFamily:['"\u5b8b\u4f53"',0,0,21],marginBottom:["3",0,0,21],marginLeft:["7",0,0,21],marginTop:["5",0,0,21]}},".input":{"":{paddingTop:["20rpx",0,0,22],paddingRight:["20rpx",0,0,22],paddingBottom:["20rpx",0,0,22],paddingLeft:["10",0,0,22],height:["150rpx",0,0,22],width:["650rpx",0,0,22],marginLeft:["30",0,0,22],marginBottom:["5",0,0,22],marginTop:["20",0,0,22],backgroundColor:["#EBF0F3",0,0,22],outline:["none",0,0,22],borderWidth:["2",0,0,22],borderStyle:["solid",0,0,22],borderColor:["#DFE4E7",0,0,22],borderBottom:["thick solid #DFE4E7",0,0,22],borderTopRightRadius:["50rpx",0,0,22],borderBottomLeftRadius:["50rpx",0,0,22],borderBottomRightRadius:["50rpx",0,0,22],borderTopLeftRadius:["50rpx",0,0,22],textAlign:["center",0,0,22]}},".title":{"":{marginLeft:["30rpx",0,0,23]}},".color":{"":{fontFamily:['"\u5b8b\u4f53"',0,0,24],fontWeight:["100",0,0,24],textAlign:["center",0,0,24],fontSize:["17",0,0,24]}},".click-to-page-img":{"":{position:["fixed",0,0,25],bottom:["570rpx",0,0,25],right:["25rpx",0,0,25],width:["170rpx",0,0,25],height:["170rpx",0,0,25]}},".click-to-indoor-img":{"":{position:["fixed",0,0,26],bottom:["770rpx",0,0,26],right:["25rpx",0,0,26],width:["170rpx",0,0,26],height:["170rpx",0,0,26]}},".scan-image":{"":{position:["fixed",0,0,27],right:["20",0,0,27],top:["100",0,0,27],width:["40",0,0,27],height:["40",0,0,27]}},"@VERSION":2}},,function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){}));var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("scroll-view",{staticStyle:{flexDirection:"column"},attrs:{scrollY:!0,showScrollbar:!0,enableBackToTop:!0,bubble:"true"}},[a("view",[a("view",{staticClass:["map"]},[a("map",{ref:"my-map",staticClass:["my-map"],staticStyle:{width:"750rpx",height:"1300rpx"},attrs:{id:"my-map",longitude:e.longitude,latitude:e.latitude,markers:e.markers,enable3D:"true",showLocation:"true",polyline:e.myPolyline,enableOverlooking:"true",enableTraffic:"true",enablePoi:"true",enableIndoorMap:"true",enableBuilding:"true",enableRotate:"true",includePoints:e.includePoints}}),a("cover-view",{staticClass:["control-btn"]},[a("cover-view",{staticClass:["all"]},[a("cover-view",{staticClass:["choose"],on:{click:function(t){e.chooseAddress(2)}}},[a("cover-view",{staticClass:["wenzi"]},[a("cover-view",{staticClass:["primary"]},[a("u-text",{staticClass:["first"],appendAsTree:!0,attrs:{append:"tree"}},[e._v("\u5bfc")]),a("u-text",{staticClass:["second"],appendAsTree:!0,attrs:{append:"tree"}},[e._v("\u822a")])]),a("cover-view",{staticClass:["english"]},[a("u-text",{staticClass:["first_english"],appendAsTree:!0,attrs:{append:"tree"}},[e._v("N")]),a("u-text",{staticClass:["second_english"],appendAsTree:!0,attrs:{append:"tree"}},[e._v("avigation")])])],1),a("cover-view",[a("u-image",{staticClass:["icon"],attrs:{src:"../../static/imgs/navi.png"}})],1)],1),a("cover-view",{staticClass:["choose"],on:{click:e.onScan}},[a("cover-view",{staticClass:["wenzi"]},[a("cover-view",{staticClass:["primary"]},[a("u-text",{staticClass:["first"],appendAsTree:!0,attrs:{append:"tree"}},[e._v("\u626b")]),a("u-text",{staticClass:["second"],appendAsTree:!0,attrs:{append:"tree"}},[e._v("\u7801")])]),a("cover-view",{staticClass:["english"]},[a("u-text",{staticClass:["first_english"],appendAsTree:!0,attrs:{append:"tree"}},[e._v("S")]),a("u-text",{staticClass:["second_english"],appendAsTree:!0,attrs:{append:"tree"}},[e._v("can")])])],1),a("cover-view",[a("u-image",{staticClass:["icon"],attrs:{src:"../../static/imgs/scan.png"}})],1)],1)],1),a("cover-view",{staticClass:["weather"]},[a("view",[a("cover-image",{staticClass:["weather-img"],attrs:{src:e.weatherImg}})],1),a("view",[a("cover-view",{staticClass:["wearth-txt"]},[a("u-text",[e._v(e._s(e.temperature+"\u2103"))])])],1)])],1)],1)])])},o=[]},function(e,t,a){Vue.prototype.__$appStyle__={},Vue.prototype.__merge_style&&Vue.prototype.__merge_style(a(13).default,Vue.prototype.__$appStyle__)},function(e,t,a){"use strict";a.r(t);var i=a(0),o=a.n(i);for(var n in i)"default"!==n&&function(e){a.d(t,e,(function(){return i[e]}))}(n);t.default=o.a},function(e,t,a){"use strict";function i(e){var t=Object.prototype.toString.call(e);return t.substring(8,t.length-1)}function o(){return"string"==typeof __channelId__&&__channelId__}function n(e,t){switch(i(t)){case"Function":return"function() { [native code] }";default:return t}}Object.defineProperty(t,"__esModule",{value:!0}),t.log=function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),i=1;i<t;i++)a[i-1]=arguments[i];console[e].apply(console,a)},t.default=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];var r=t.shift();if(o())return t.push(t.pop().replace("at ","uni-app:///")),console[r].apply(console,t);var s=t.map((function(e){var t=Object.prototype.toString.call(e).toLowerCase();if("[object object]"===t||"[object array]"===t)try{e="---BEGIN:JSON---"+JSON.stringify(e,n)+"---END:JSON---"}catch(a){e=t}else if(null===e)e="---NULL---";else if(void 0===e)e="---UNDEFINED---";else{var a=i(e).toUpperCase();e="NUMBER"===a||"BOOLEAN"===a?"---BEGIN:"+a+"---"+e+"---END:"+a+"---":String(e)}return e})),c="";if(s.length>1){var p=s.pop();c=s.join("---COMMA---"),0===p.indexOf(" at ")?c+=p:c+="---COMMA---"+p}else c=s[0];console[r](c)}},function(e,t){function a(e){this.key=e.key,this.requestConfig={key:e.key,s:"rsx",platform:"WXJS",appname:e.key,sdkversion:"1.2.0",logversion:"2.0"},this.MeRequestConfig={key:e.key,serviceName:"https://restapi.amap.com/rest/me"}}a.prototype.getWxLocation=function(e,t){wx.getLocation({type:"gcj02",success:function(e){e=e.longitude+","+e.latitude,wx.setStorage({key:"userLocation",data:e}),t(e)},fail:function(a){wx.getStorage({key:"userLocation",success:function(e){e.data&&t(e.data)}}),e.fail({errCode:"0",errMsg:a.errMsg||""})}})},a.prototype.getMEKeywordsSearch=function(e){if(!e.options)return e.fail({errCode:"0",errMsg:"\u7f3a\u5c11\u5fc5\u8981\u53c2\u6570"});var t=e.options,a=this.MeRequestConfig,i={key:a.key,s:"rsx",platform:"WXJS",appname:e.key,sdkversion:"1.2.0",logversion:"2.0"};t.layerId&&(i.layerId=t.layerId),t.keywords&&(i.keywords=t.keywords),t.city&&(i.city=t.city),t.filter&&(i.filter=t.filter),t.sortrule&&(i.sortrule=t.sortrule),t.pageNum&&(i.pageNum=t.pageNum),t.pageSize&&(i.pageSize=t.pageSize),t.sig&&(i.sig=t.sig),wx.request({url:a.serviceName+"/cpoint/datasearch/local",data:i,method:"GET",header:{"content-type":"application/json"},success:function(t){(t=t.data)&&t.status&&"1"===t.status&&0===t.code?e.success(t.data):e.fail({errCode:"0",errMsg:t})},fail:function(t){e.fail({errCode:"0",errMsg:t.errMsg||""})}})},a.prototype.getMEIdSearch=function(e){if(!e.options)return e.fail({errCode:"0",errMsg:"\u7f3a\u5c11\u5fc5\u8981\u53c2\u6570"});var t=e.options,a=this.MeRequestConfig,i={key:a.key,s:"rsx",platform:"WXJS",appname:e.key,sdkversion:"1.2.0",logversion:"2.0"};t.layerId&&(i.layerId=t.layerId),t.id&&(i.id=t.id),t.sig&&(i.sig=t.sig),wx.request({url:a.serviceName+"/cpoint/datasearch/id",data:i,method:"GET",header:{"content-type":"application/json"},success:function(t){(t=t.data)&&t.status&&"1"===t.status&&0===t.code?e.success(t.data):e.fail({errCode:"0",errMsg:t})},fail:function(t){e.fail({errCode:"0",errMsg:t.errMsg||""})}})},a.prototype.getMEPolygonSearch=function(e){if(!e.options)return e.fail({errCode:"0",errMsg:"\u7f3a\u5c11\u5fc5\u8981\u53c2\u6570"});var t=e.options,a=this.MeRequestConfig,i={key:a.key,s:"rsx",platform:"WXJS",appname:e.key,sdkversion:"1.2.0",logversion:"2.0"};t.layerId&&(i.layerId=t.layerId),t.keywords&&(i.keywords=t.keywords),t.polygon&&(i.polygon=t.polygon),t.filter&&(i.filter=t.filter),t.sortrule&&(i.sortrule=t.sortrule),t.pageNum&&(i.pageNum=t.pageNum),t.pageSize&&(i.pageSize=t.pageSize),t.sig&&(i.sig=t.sig),wx.request({url:a.serviceName+"/cpoint/datasearch/polygon",data:i,method:"GET",header:{"content-type":"application/json"},success:function(t){(t=t.data)&&t.status&&"1"===t.status&&0===t.code?e.success(t.data):e.fail({errCode:"0",errMsg:t})},fail:function(t){e.fail({errCode:"0",errMsg:t.errMsg||""})}})},a.prototype.getMEaroundSearch=function(e){if(!e.options)return e.fail({errCode:"0",errMsg:"\u7f3a\u5c11\u5fc5\u8981\u53c2\u6570"});var t=e.options,a=this.MeRequestConfig,i={key:a.key,s:"rsx",platform:"WXJS",appname:e.key,sdkversion:"1.2.0",logversion:"2.0"};t.layerId&&(i.layerId=t.layerId),t.keywords&&(i.keywords=t.keywords),t.center&&(i.center=t.center),t.radius&&(i.radius=t.radius),t.filter&&(i.filter=t.filter),t.sortrule&&(i.sortrule=t.sortrule),t.pageNum&&(i.pageNum=t.pageNum),t.pageSize&&(i.pageSize=t.pageSize),t.sig&&(i.sig=t.sig),wx.request({url:a.serviceName+"/cpoint/datasearch/around",data:i,method:"GET",header:{"content-type":"application/json"},success:function(t){(t=t.data)&&t.status&&"1"===t.status&&0===t.code?e.success(t.data):e.fail({errCode:"0",errMsg:t})},fail:function(t){e.fail({errCode:"0",errMsg:t.errMsg||""})}})},a.prototype.getGeo=function(e){var t=this.requestConfig,a=e.options;t={key:this.key,extensions:"all",s:t.s,platform:t.platform,appname:this.key,sdkversion:t.sdkversion,logversion:t.logversion},a.address&&(t.address=a.address),a.city&&(t.city=a.city),a.batch&&(t.batch=a.batch),a.sig&&(t.sig=a.sig),wx.request({url:"https://restapi.amap.com/v3/geocode/geo",data:t,method:"GET",header:{"content-type":"application/json"},success:function(t){(t=t.data)&&t.status&&"1"===t.status?e.success(t):e.fail({errCode:"0",errMsg:t})},fail:function(t){e.fail({errCode:"0",errMsg:t.errMsg||""})}})},a.prototype.getRegeo=function(e){function t(t){var i=a.requestConfig;wx.request({url:"https://restapi.amap.com/v3/geocode/regeo",data:{key:a.key,location:t,extensions:"all",s:i.s,platform:i.platform,appname:a.key,sdkversion:i.sdkversion,logversion:i.logversion},method:"GET",header:{"content-type":"application/json"},success:function(a){if(a.data.status&&"1"==a.data.status){var i=(a=a.data.regeocode).addressComponent,o=[],n=a.roads[0].name+"\u9644\u8fd1",r=t.split(",")[0],s=t.split(",")[1];if(a.pois&&a.pois[0]){n=a.pois[0].name+"\u9644\u8fd1";var c=a.pois[0].location;c&&(r=parseFloat(c.split(",")[0]),s=parseFloat(c.split(",")[1]))}i.provice&&o.push(i.provice),i.city&&o.push(i.city),i.district&&o.push(i.district),i.streetNumber&&i.streetNumber.street&&i.streetNumber.number?(o.push(i.streetNumber.street),o.push(i.streetNumber.number)):o.push(a.roads[0].name),o=o.join(""),e.success([{iconPath:e.iconPath,width:e.iconWidth,height:e.iconHeight,name:o,desc:n,longitude:r,latitude:s,id:0,regeocodeData:a}])}else e.fail({errCode:a.data.infocode,errMsg:a.data.info})},fail:function(t){e.fail({errCode:"0",errMsg:t.errMsg||""})}})}var a=this;e.location?t(e.location):a.getWxLocation(e,(function(e){t(e)}))},a.prototype.getWeather=function(e){function t(t){var o="base";e.type&&"forecast"==e.type&&(o="all"),wx.request({url:"https://restapi.amap.com/v3/weather/weatherInfo",data:{key:a.key,city:t,extensions:o,s:i.s,platform:i.platform,appname:a.key,sdkversion:i.sdkversion,logversion:i.logversion},method:"GET",header:{"content-type":"application/json"},success:function(t){if(t.data.status&&"1"==t.data.status)if(t.data.lives){if((t=t.data.lives)&&0<t.length){var a={city:{text:"\u57ce\u5e02",data:(t=t[0]).city},weather:{text:"\u5929\u6c14",data:t.weather},temperature:{text:"\u6e29\u5ea6",data:t.temperature},winddirection:{text:"\u98ce\u5411",data:t.winddirection+"\u98ce"},windpower:{text:"\u98ce\u529b",data:t.windpower+"\u7ea7"},humidity:{text:"\u6e7f\u5ea6",data:t.humidity+"%"}};a.liveData=t,e.success(a)}}else t.data.forecasts&&t.data.forecasts[0]&&e.success({forecast:t.data.forecasts[0]});else e.fail({errCode:t.data.infocode,errMsg:t.data.info})},fail:function(t){e.fail({errCode:"0",errMsg:t.errMsg||""})}})}var a=this,i=a.requestConfig;e.city?t(e.city):a.getWxLocation(e,(function(o){!function(o){wx.request({url:"https://restapi.amap.com/v3/geocode/regeo",data:{key:a.key,location:o,extensions:"all",s:i.s,platform:i.platform,appname:a.key,sdkversion:i.sdkversion,logversion:i.logversion},method:"GET",header:{"content-type":"application/json"},success:function(a){if(a.data.status&&"1"==a.data.status){if((a=a.data.regeocode).addressComponent)var i=a.addressComponent.adcode;else a.aois&&0<a.aois.length&&(i=a.aois[0].adcode);t(i)}else e.fail({errCode:a.data.infocode,errMsg:a.data.info})},fail:function(t){e.fail({errCode:"0",errMsg:t.errMsg||""})}})}(o)}))},a.prototype.getPoiAround=function(e){function t(t){t={key:a.key,location:t,s:i.s,platform:i.platform,appname:a.key,sdkversion:i.sdkversion,logversion:i.logversion},e.querytypes&&(t.types=e.querytypes),e.querykeywords&&(t.keywords=e.querykeywords),wx.request({url:"https://restapi.amap.com/v3/place/around",data:t,method:"GET",header:{"content-type":"application/json"},success:function(t){if(t.data.status&&"1"==t.data.status){if((t=t.data)&&t.pois){for(var a=[],i=0;i<t.pois.length;i++){var o=0==i?e.iconPathSelected:e.iconPath;a.push({latitude:parseFloat(t.pois[i].location.split(",")[1]),longitude:parseFloat(t.pois[i].location.split(",")[0]),iconPath:o,width:22,height:32,id:i,name:t.pois[i].name,address:t.pois[i].address})}e.success({markers:a,poisData:t.pois})}}else e.fail({errCode:t.data.infocode,errMsg:t.data.info})},fail:function(t){e.fail({errCode:"0",errMsg:t.errMsg||""})}})}var a=this,i=a.requestConfig;e.location?t(e.location):a.getWxLocation(e,(function(e){t(e)}))},a.prototype.getStaticmap=function(e){function t(t){a.push("location="+t),e.zoom&&a.push("zoom="+e.zoom),e.size&&a.push("size="+e.size),e.scale&&a.push("scale="+e.scale),e.markers&&a.push("markers="+e.markers),e.labels&&a.push("labels="+e.labels),e.paths&&a.push("paths="+e.paths),e.traffic&&a.push("traffic="+e.traffic),t="https://restapi.amap.com/v3/staticmap?"+a.join("&"),e.success({url:t})}var a=[];a.push("key="+this.key);var i=this.requestConfig;a.push("s="+i.s),a.push("platform="+i.platform),a.push("appname="+i.appname),a.push("sdkversion="+i.sdkversion),a.push("logversion="+i.logversion),e.location?t(e.location):this.getWxLocation(e,(function(e){t(e)}))},a.prototype.getInputtips=function(e){var t=Object.assign({},this.requestConfig);e.location&&(t.location=e.location),e.keywords&&(t.keywords=e.keywords),e.type&&(t.type=e.type),e.city&&(t.city=e.city),e.citylimit&&(t.citylimit=e.citylimit),wx.request({url:"https://restapi.amap.com/v3/assistant/inputtips",data:t,method:"GET",header:{"content-type":"application/json"},success:function(t){t&&t.data&&t.data.tips&&e.success({tips:t.data.tips})},fail:function(t){e.fail({errCode:"0",errMsg:t.errMsg||""})}})},a.prototype.getDrivingRoute=function(e){var t=Object.assign({},this.requestConfig);e.origin&&(t.origin=e.origin),e.destination&&(t.destination=e.destination),e.strategy&&(t.strategy=e.strategy),e.waypoints&&(t.waypoints=e.waypoints),e.avoidpolygons&&(t.avoidpolygons=e.avoidpolygons),e.avoidroad&&(t.avoidroad=e.avoidroad),wx.request({url:"https://restapi.amap.com/v3/direction/driving",data:t,method:"GET",header:{"content-type":"application/json"},success:function(t){t&&t.data&&t.data.route&&e.success({paths:t.data.route.paths,taxi_cost:t.data.route.taxi_cost||""})},fail:function(t){e.fail({errCode:"0",errMsg:t.errMsg||""})}})},a.prototype.getWalkingRoute=function(e){var t=Object.assign({},this.requestConfig);e.origin&&(t.origin=e.origin),e.destination&&(t.destination=e.destination),wx.request({url:"https://restapi.amap.com/v3/direction/walking",data:t,method:"GET",header:{"content-type":"application/json"},success:function(t){t&&t.data&&t.data.route&&e.success({paths:t.data.route.paths})},fail:function(t){e.fail({errCode:"0",errMsg:t.errMsg||""})}})},a.prototype.getTransitRoute=function(e){var t=Object.assign({},this.requestConfig);e.origin&&(t.origin=e.origin),e.destination&&(t.destination=e.destination),e.strategy&&(t.strategy=e.strategy),e.city&&(t.city=e.city),e.cityd&&(t.cityd=e.cityd),wx.request({url:"https://restapi.amap.com/v3/direction/transit/integrated",data:t,method:"GET",header:{"content-type":"application/json"},success:function(t){t&&t.data&&t.data.route&&(t=t.data.route,e.success({distance:t.distance||"",taxi_cost:t.taxi_cost||"",transits:t.transits}))},fail:function(t){e.fail({errCode:"0",errMsg:t.errMsg||""})}})},a.prototype.getRidingRoute=function(e){var t=Object.assign({},this.requestConfig);e.origin&&(t.origin=e.origin),e.destination&&(t.destination=e.destination),wx.request({url:"https://restapi.amap.com/v3/direction/riding",data:t,method:"GET",header:{"content-type":"application/json"},success:function(t){t&&t.data&&t.data.route&&e.success({paths:t.data.route.paths})},fail:function(t){e.fail({errCode:"0",errMsg:t.errMsg||""})}})},e.exports.AMapWX=a},,function(e,t,a){"use strict";a.r(t);var i=a(9),o=a.n(i);for(var n in i)"default"!==n&&function(e){a.d(t,e,(function(){return i[e]}))}(n);t.default=o.a},,function(e,t,a){"use strict";a.r(t);a(12);var i=a(3);"undefined"==typeof Promise||Promise.prototype.finally||(Promise.prototype.finally=function(e){var t=this.constructor;return this.then((function(a){return t.resolve(e()).then((function(){return a}))}),(function(a){return t.resolve(e()).then((function(){throw a}))}))}),i.default.mpType="page",i.default.route="pages/map/map",i.default.el="#root",new Vue(i.default)}]);